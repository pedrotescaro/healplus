<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heal+ - Meus Relat√≥rios</title>
    <link rel="stylesheet" href="../css/modern-design.css">
    <link rel="stylesheet" href="../css/icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="patient-dashboard.html" class="logo">
                    <div class="logo-icon">H+</div>
                    <div class="logo-text">Heal+</div>
                </a>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Meu Portal</div>
                    <a href="patient-dashboard.html" class="nav-item">
                        <span class="icon icon-chart"></span>
                        Dashboard
                    </a>
                    <a href="patient-wound-assessment.html" class="nav-item">
                        <span class="icon icon-camera"></span>
                        Avaliar Ferida
                    </a>
                    <a href="patient-appointments.html" class="nav-item">
                        <span class="icon icon-calendar"></span>
                        Minhas Consultas
                    </a>
                    <a href="patient-telehealth.html" class="nav-item">
                        <span class="icon icon-video"></span>
                        Teleconsulta
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Monitoramento</div>
                    <a href="patient-daily-checkin.html" class="nav-item">
                        <span class="icon icon-heart"></span>
                        Check-in Di√°rio
                    </a>
                    <a href="patient-medications.html" class="nav-item">
                        <span class="icon icon-pill"></span>
                        Medicamentos
                    </a>
                    <a href="#reports" class="nav-item active">
                        <span class="icon icon-document"></span>
                        Meus Relat√≥rios
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Conta</div>
                    <a href="patient-profile.html" class="nav-item">
                        <span class="icon icon-user"></span>
                        Meu Perfil
                    </a>
                    <a href="patient-settings.html" class="nav-item">
                        <span class="icon icon-settings"></span>
                        Configura√ß√µes
                    </a>
                    <a href="#" class="nav-item logout-btn">
                        <span class="icon icon-logout"></span>
                        Sair
                    </a>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <button class="mobile-menu-toggle" id="mobileMenuToggle">
                        <span class="icon icon-menu"></span>
                    </button>
                    <h1 class="page-title">Meus Relat√≥rios</h1>
                </div>
                
                <div class="header-right">
                    <div class="user-info">
                        <span class="user-name">Jo√£o Silva</span>
                        <span class="user-role">Paciente</span>
                    </div>
                    <button class="theme-toggle" id="themeToggle">
                        <span class="icon icon-sun"></span>
                    </button>
                </div>
            </header>

            <!-- Reports Content -->
            <div class="reports-content">
                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h2>Relat√≥rios de Sa√∫de</h2>
                    <p>Acompanhe sua evolu√ß√£o e hist√≥rico m√©dico.</p>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="generateReport()">
                            <span class="icon icon-download"></span>
                            Gerar Relat√≥rio Completo
                        </button>
                        <button class="btn btn-secondary" onclick="exportData()">
                            <span class="icon icon-export"></span>
                            Exportar Dados
                        </button>
                    </div>
                </div>

                <!-- Health Summary -->
                <div class="health-summary">
                    <h3>Resumo da Sa√∫de</h3>
                    <div class="summary-cards">
                        <div class="summary-card">
                            <div class="summary-icon">üìä</div>
                            <div class="summary-info">
                                <div class="summary-title">Avalia√ß√µes de Feridas</div>
                                <div class="summary-value">12</div>
                                <div class="summary-trend positive">+2 este m√™s</div>
                            </div>
                        </div>
                        
                        <div class="summary-card">
                            <div class="summary-icon">üíä</div>
                            <div class="summary-info">
                                <div class="summary-title">Medicamentos Ativos</div>
                                <div class="summary-value">3</div>
                                <div class="summary-trend neutral">Est√°vel</div>
                            </div>
                        </div>
                        
                        <div class="summary-card">
                            <div class="summary-icon">üìÖ</div>
                            <div class="summary-info">
                                <div class="summary-title">Consultas Realizadas</div>
                                <div class="summary-value">8</div>
                                <div class="summary-trend positive">+1 este m√™s</div>
                            </div>
                        </div>
                        
                        <div class="summary-card">
                            <div class="summary-icon">üíì</div>
                            <div class="summary-info">
                                <div class="summary-title">Check-ins Completos</div>
                                <div class="summary-value">28</div>
                                <div class="summary-trend positive">93% este m√™s</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Reports -->
                <div class="recent-reports">
                    <h3>Relat√≥rios Recentes</h3>
                    <div class="reports-list">
                        <div class="report-item">
                            <div class="report-header">
                                <div class="report-title">Relat√≥rio de Progresso - Janeiro 2024</div>
                                <div class="report-date">15/01/2024</div>
                            </div>
                            <div class="report-summary">
                                <div class="report-section">
                                    <span class="section-title">Avalia√ß√µes:</span>
                                    <span class="section-value">5 avalia√ß√µes realizadas</span>
                                </div>
                                <div class="report-section">
                                    <span class="section-title">Evolu√ß√£o:</span>
                                    <span class="section-value">Melhoria significativa</span>
                                </div>
                                <div class="report-section">
                                    <span class="section-title">Recomenda√ß√µes:</span>
                                    <span class="section-value">Continuar tratamento atual</span>
                                </div>
                            </div>
                            <div class="report-actions">
                                <button class="btn btn-sm btn-primary" onclick="viewReport('report1')">
                                    Ver Relat√≥rio
                                </button>
                                <button class="btn btn-sm btn-secondary" onclick="downloadReport('report1')">
                                    Baixar PDF
                                </button>
                            </div>
                        </div>
                        
                        <div class="report-item">
                            <div class="report-header">
                                <div class="report-title">Relat√≥rio de Consulta - Dr. Maria Santos</div>
                                <div class="report-date">10/01/2024</div>
                            </div>
                            <div class="report-summary">
                                <div class="report-section">
                                    <span class="section-title">Tipo:</span>
                                    <span class="section-value">Consulta de acompanhamento</span>
                                </div>
                                <div class="report-section">
                                    <span class="section-title">Dura√ß√£o:</span>
                                    <span class="section-value">45 minutos</span>
                                </div>
                                <div class="report-section">
                                    <span class="section-title">Diagn√≥stico:</span>
                                    <span class="section-value">Evolu√ß√£o positiva</span>
                                </div>
                            </div>
                            <div class="report-actions">
                                <button class="btn btn-sm btn-primary" onclick="viewReport('report2')">
                                    Ver Relat√≥rio
                                </button>
                                <button class="btn btn-sm btn-secondary" onclick="downloadReport('report2')">
                                    Baixar PDF
                                </button>
                            </div>
                        </div>
                        
                        <div class="report-item">
                            <div class="report-header">
                                <div class="report-title">Relat√≥rio de An√°lise de Ferida</div>
                                <div class="report-date">08/01/2024</div>
                            </div>
                            <div class="report-summary">
                                <div class="report-section">
                                    <span class="section-title">An√°lise:</span>
                                    <span class="section-value">IA + Revis√£o m√©dica</span>
                                </div>
                                <div class="report-section">
                                    <span class="section-title">Resultado:</span>
                                    <span class="section-value">Cicatriza√ß√£o em progresso</span>
                                </div>
                                <div class="report-section">
                                    <span class="section-title">Pr√≥xima avalia√ß√£o:</span>
                                    <span class="section-value">15/01/2024</span>
                                </div>
                            </div>
                            <div class="report-actions">
                                <button class="btn btn-sm btn-primary" onclick="viewReport('report3')">
                                    Ver Relat√≥rio
                                </button>
                                <button class="btn btn-sm btn-secondary" onclick="downloadReport('report3')">
                                    Baixar PDF
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Health Trends -->
                <div class="health-trends">
                    <h3>Tend√™ncias de Sa√∫de</h3>
                    <div class="trends-grid">
                        <div class="trend-card">
                            <div class="trend-title">N√≠vel de Dor</div>
                            <div class="trend-chart">
                                <div class="chart-placeholder">
                                    <span class="chart-icon">üìà</span>
                                    <p>Gr√°fico de evolu√ß√£o da dor</p>
                                </div>
                            </div>
                            <div class="trend-summary">
                                <span class="trend-value">Redu√ß√£o de 40%</span>
                                <span class="trend-period">nos √∫ltimos 30 dias</span>
                            </div>
                        </div>
                        
                        <div class="trend-card">
                            <div class="trend-title">Frequ√™ncia de Check-ins</div>
                            <div class="trend-chart">
                                <div class="chart-placeholder">
                                    <span class="chart-icon">üìä</span>
                                    <p>Gr√°fico de ader√™ncia</p>
                                </div>
                            </div>
                            <div class="trend-summary">
                                <span class="trend-value">93% de ader√™ncia</span>
                                <span class="trend-period">este m√™s</span>
                            </div>
                        </div>
                        
                        <div class="trend-card">
                            <div class="trend-title">Uso de Medicamentos</div>
                            <div class="trend-chart">
                                <div class="chart-placeholder">
                                    <span class="chart-icon">üíä</span>
                                    <p>Gr√°fico de ader√™ncia</p>
                                </div>
                            </div>
                            <div class="trend-summary">
                                <span class="trend-value">98% de ader√™ncia</span>
                                <span class="trend-period">este m√™s</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Export Options -->
                <div class="export-options">
                    <h3>Exportar Dados</h3>
                    <div class="export-grid">
                        <button class="export-card" onclick="exportToPDF()">
                            <div class="export-icon">üìÑ</div>
                            <div class="export-title">Relat√≥rio PDF</div>
                            <div class="export-description">Relat√≥rio completo em PDF</div>
                        </button>
                        
                        <button class="export-card" onclick="exportToExcel()">
                            <div class="export-icon">üìä</div>
                            <div class="export-title">Planilha Excel</div>
                            <div class="export-description">Dados em formato de planilha</div>
                        </button>
                        
                        <button class="export-card" onclick="exportToCSV()">
                            <div class="export-icon">üìã</div>
                            <div class="export-title">Arquivo CSV</div>
                            <div class="export-description">Dados em formato CSV</div>
                        </button>
                        
                        <button class="export-card" onclick="shareReport()">
                            <div class="export-icon">üì§</div>
                            <div class="export-title">Compartilhar</div>
                            <div class="export-description">Compartilhar com m√©dico</div>
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Chat Support -->
    <div class="chat-support">
        <button class="chat-btn" id="chatBtn">
            <span class="icon icon-chat"></span>
        </button>
    </div>

    <!-- Scripts -->
    <script src="../js/theme-manager.js"></script>
    <script src="../js/button-handler.js"></script>
    <script src="../js/enhanced-buttons.js"></script>
    <script src="../js/main.js"></script>
    
    <script>
        // Funcionalidades espec√≠ficas dos relat√≥rios
        document.addEventListener('DOMContentLoaded', function() {
            loadReportsData();
        });
        
        function loadReportsData() {
            // Carregar dados dos relat√≥rios do localStorage
            const reports = JSON.parse(localStorage.getItem('patientReports') || '[]');
            
            if (reports.length === 0) {
                // Dados padr√£o se n√£o houver relat√≥rios salvos
                const defaultReports = [
                    {
                        id: 'report1',
                        title: 'Relat√≥rio de Progresso - Janeiro 2024',
                        date: '2024-01-15',
                        type: 'progress',
                        summary: {
                            evaluations: '5 avalia√ß√µes realizadas',
                            evolution: 'Melhoria significativa',
                            recommendations: 'Continuar tratamento atual'
                        }
                    },
                    {
                        id: 'report2',
                        title: 'Relat√≥rio de Consulta - Dr. Maria Santos',
                        date: '2024-01-10',
                        type: 'consultation',
                        summary: {
                            type: 'Consulta de acompanhamento',
                            duration: '45 minutos',
                            diagnosis: 'Evolu√ß√£o positiva'
                        }
                    },
                    {
                        id: 'report3',
                        title: 'Relat√≥rio de An√°lise de Ferida',
                        date: '2024-01-08',
                        type: 'wound-analysis',
                        summary: {
                            analysis: 'IA + Revis√£o m√©dica',
                            result: 'Cicatriza√ß√£o em progresso',
                            nextEvaluation: '15/01/2024'
                        }
                    }
                ];
                
                localStorage.setItem('patientReports', JSON.stringify(defaultReports));
            }
        }
        
        function generateReport() {
            showNotification('Gerando relat√≥rio completo...', 'info');
            
            setTimeout(() => {
                showNotification('Relat√≥rio gerado com sucesso!', 'success');
                // Aqui voc√™ pode implementar a gera√ß√£o real do relat√≥rio
            }, 2000);
        }
        
        function exportData() {
            showNotification('Exportando dados...', 'info');
            
            setTimeout(() => {
                showNotification('Dados exportados com sucesso!', 'success');
                // Aqui voc√™ pode implementar a exporta√ß√£o real dos dados
            }, 1500);
        }
        
        function viewReport(reportId) {
            showNotification('Abrindo relat√≥rio...', 'info');
            // Aqui voc√™ pode abrir um modal ou navegar para uma p√°gina de visualiza√ß√£o
        }
        
        function downloadReport(reportId) {
            showNotification('Baixando relat√≥rio em PDF...', 'info');
            
            setTimeout(() => {
                showNotification('Download iniciado!', 'success');
                // Aqui voc√™ pode implementar o download real do PDF
            }, 1000);
        }
        
        function exportToPDF() {
            showNotification('Exportando para PDF...', 'info');
            
            setTimeout(() => {
                showNotification('PDF gerado com sucesso!', 'success');
            }, 2000);
        }
        
        function exportToExcel() {
            showNotification('Exportando para Excel...', 'info');
            
            setTimeout(() => {
                showNotification('Planilha Excel gerada!', 'success');
            }, 1500);
        }
        
        function exportToCSV() {
            showNotification('Exportando para CSV...', 'info');
            
            setTimeout(() => {
                showNotification('Arquivo CSV gerado!', 'success');
            }, 1000);
        }
        
        function shareReport() {
            if (navigator.share) {
                navigator.share({
                    title: 'Relat√≥rio de Sa√∫de - Heal+',
                    text: 'Confira meu relat√≥rio de sa√∫de atualizado',
                    url: window.location.href
                });
            } else {
                showNotification('Link copiado para compartilhamento!', 'success');
            }
        }
        
        function showNotification(message, type) {
            if (window.buttonHandler && window.buttonHandler.showNotification) {
                window.buttonHandler.showNotification(message, type);
            } else {
                alert(message);
            }
        }
    </script>
</body>
</html>
